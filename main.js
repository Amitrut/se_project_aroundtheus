!function(){"use strict";class e{constructor(e,t){this._inputSelector=e.inputSelector,this._formSelector=e.formSelector,this._submitButtonSelector=e.submitButtonSelector,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._inputElements=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}resetValidation(){this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._submitButton.disabled=!0}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._submitButton.disabled=!1}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners()}}class t{constructor(e,t,s,r,n){this._name=e.name,this._image=e.link,this.id=e._id,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=n,this._cardElement=document.querySelector(t),this.isLiked=e.isLiked}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)}))}generateCard(){return this._element=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._element.querySelector(".card__heart-button"),this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._cardImage.src=this._image,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this.isLiked&&this._likeButton.classList.add("card__heart-button_clicked"),this._setEventListeners(),this._element}removeCardElement(){this._element.remove(),this._element=null}handleLikeButton(){this._likeButton.classList.toggle("card__heart-button_clicked"),this.isLiked=!this.isLiked}}class s{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t),this._closeButton=this._modalElement.querySelector(".modal__close"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_closeModalOverlay=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._modalElement.addEventListener("mousedown",(e=>this._closeModalOverlay(e))),this._closeButton.addEventListener("click",(()=>this.close()))}}class r extends s{constructor(e,t){super({modalSelector:e}),this.modalForm=this._modalElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputElements=Array.from(this.modalForm.querySelectorAll(".modal__input")),this._modalSubmitButton=this._modalElement.querySelector(".modal__submit-button"),this._submitButtonText=this._modalSubmitButton.textContent}resetForm(){this.modalForm.reset()}_getInputValues(){const e={};return this._inputElements.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputElements.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this.modalForm.addEventListener("submit",(()=>this._handleFormSubmit(this._getInputValues())))}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._modalSubmitButton.textContent=e?t:this._submitButtonText}}document.querySelector(".cards__list");const n=document.querySelector(".profile__edit-button"),o=document.querySelector(".profile__add-button"),i=(document.querySelector(".profile__name"),document.querySelector(".profile__job"),document.querySelector(".profile__avatar-button")),a=document.querySelector("[name='name'"),l=document.querySelector("[name='job']"),d=new class{constructor(e){let{baseURL:t,headers:s}=e;this._baseURL=t,this._headers=s}_request(e,t){return fetch(e,t).then(this._checkPromise)}_checkPromise(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return this._request(`${this._baseURL}/cards`,{headers:this._headers})}getUserInfo(){return this._request(`${this._baseURL}/users/me`,{headers:this._headers}).then((e=>e))}updateUserInfo(e,t){return this._request(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})})}addNewCard(e,t){return this._request(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})})}deleteCard(e){return this._request(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((()=>console.log("Card has been liked")))}dislikeCard(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((()=>console.log("Card is not yet liked")))}updateAvatar(e){return this._request(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseURL:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"82d2a8e2-b05f-46c8-b69b-4e1cb4fdd7c7","Content-Type":"application/json"}});d.getInitialCards().then((e=>{console.log("Initial Cards:",e),e.forEach((e=>{u.appendItem(S(e))}))})).catch(console.error),d.getUserInfo().then((e=>{console.log("User Info:",e),v.setUserInfo({nameInput:e.name,jobInput:e.about}),v.setUserAvatar(e.avatar)})).catch(console.error);const c={};var h;h={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(h.formSelector)).forEach((t=>{const s=new e(h,t),r=t.getAttribute("name");c[r]=s,s.enableValidation()}));const u=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._renderedItems.forEach((e=>{this._renderer(e)}))}appendItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}({renderer:S},".cards__list"),m=new class extends s{constructor(e){let{modalSelector:t}=e;super({modalSelector:t}),this._modalForm=this._modalElement.querySelector(".modal__form")}setHandleDeleteMethod(e){this._handleDeleteSubmit=e}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleDeleteSubmit()})),super.setEventListeners()}}({modalSelector:"#delete-confirm-modal"});m.setEventListeners();const _=new r("#edit-modal",(function(e){f((function(){return d.updateUserInfo(e.name,e.job).then((t=>{v.setUserInfo({nameInput:e.name,jobInput:e.job})}))}),_)}));_.setEventListeners();const p=new r("#add-card-modal",(function(e){f((function(){return d.addNewCard(e.title,e.url).then((e=>{u.prependItem(S(e)),p.resetForm(),c["add-card-form"].disableButton()}))}),p,"Creating...")}));p.setEventListeners();const E=new r("#edit-avatar-modal",(function(e){f((function(){return d.updateAvatar(e.url).then((e=>{v.setUserAvatar(e.avatar),c["edit-avatar-form"].disableButton()}))}),E)}));E.setEventListeners();const b=new class extends s{constructor(e){super({modalSelector:e}),this._modalImage=this._modalElement.querySelector(".modal__image-preview"),this._modalImageSubtitle=this._modalElement.querySelector(".modal__picture-subtitle")}open(e){this._modalImage.src=e.link,this._modalImage.alt=`Photo of ${e.name}`,this._modalImageSubtitle.textContent=e.name,super.open()}}("#preview-image-modal");b.setEventListeners();const v=new class{constructor(e){let{nameElementSelector:t,jobElementSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent,avatar:this._avatar.src}}setUserInfo(e){let{nameInput:t,jobInput:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setUserAvatar(e){this._avatar.src=e}}({nameElementSelector:".profile__name",jobElementSelector:".profile__job",avatarSelector:".profile__image"});function S(e){return new t(e,"#card-template",(()=>{b.open(e)}),L,y).generateCard()}function f(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderLoading(!0,s),e().then((()=>{t.close()})).catch((e=>{console.error(e)})).finally((()=>{t.renderLoading(!1)}))}function L(e){m.open(),m.setHandleDeleteMethod((()=>{d.deleteCard(e.id).then((()=>{m.close(),e.removeCardElement()})).catch(console.error)}))}function y(e){e.isLiked&&d.dislikeCard(e.id).then((()=>{e.handleLikeButton()})).catch(console.error),e.isLiked||d.likeCard(e.id).then((()=>{e.handleLikeButton()})).catch(console.error)}n.addEventListener("click",(()=>{const e=v.getUserInfo();a.value=e.name,l.value=e.job,_.open(),c["edit-profile-form"].resetValidation()})),o.addEventListener("click",(()=>{p.open()})),i.addEventListener("click",(()=>{E.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVlDLEVBQVNDLEdBQ25CQyxLQUFLQyxlQUFpQkgsRUFBUUksY0FDOUJGLEtBQUtHLGNBQWdCTCxFQUFRTSxhQUM3QkosS0FBS0ssc0JBQXdCUCxFQUFRUSxxQkFDckNOLEtBQUtPLGlCQUFtQlQsRUFBUVUsZ0JBQ2hDUixLQUFLUyxZQUFjWCxFQUFRWSxXQUUzQlYsS0FBS1csTUFBUVosRUFFYkMsS0FBS1ksZUFBaUJDLE1BQU1DLEtBQzFCZCxLQUFLVyxNQUFNSSxpQkFBaUJmLEtBQUtDLGlCQUduQ0QsS0FBS2dCLGNBQWdCaEIsS0FBS1csTUFBTU0sY0FBY2pCLEtBQUtLLHNCQUNyRCxDQUVBYSxlQUFBQSxDQUFnQkMsR0FDZCxNQUFNQyxFQUFzQnBCLEtBQUtXLE1BQU1NLGNBQ3BDLElBQUdFLEVBQWFFLFlBRW5CRixFQUFhRyxVQUFVQyxJQUFJdkIsS0FBS08sa0JBQ2hDYSxFQUFvQkksWUFBY0wsRUFBYU0sa0JBQy9DTCxFQUFvQkUsVUFBVUMsSUFBSXZCLEtBQUtTLFlBQ3pDLENBRUFpQixlQUFBQSxDQUFnQlAsR0FDZCxNQUFNQyxFQUFzQnBCLEtBQUtXLE1BQU1NLGNBQ3BDLElBQUdFLEVBQWFFLFlBRW5CRixFQUFhRyxVQUFVSyxPQUFPM0IsS0FBS08sa0JBQ25DYSxFQUFvQkksWUFBYyxHQUNsQ0osRUFBb0JFLFVBQVVLLE9BQU8zQixLQUFLUyxZQUM1QyxDQUVBbUIsbUJBQUFBLENBQW9CVCxHQUNsQixJQUFLQSxFQUFhVSxTQUFTQyxNQUN6QixPQUFPOUIsS0FBS2tCLGdCQUFnQkMsR0FHOUJuQixLQUFLMEIsZ0JBQWdCUCxFQUN2QixDQUVBWSxlQUFBQSxHQUNFL0IsS0FBS2dDLHFCQUVMaEMsS0FBS1ksZUFBZXFCLFNBQVNkLElBQzNCbkIsS0FBSzBCLGdCQUFnQlAsRUFBYSxHQUV0QyxDQUVBZSxhQUFBQSxHQUNFbEMsS0FBS2dCLGNBQWNtQixVQUFXLENBQ2hDLENBRUFILGtCQUFBQSxHQUNNaEMsS0FBS29DLG1CQUNQcEMsS0FBS2tDLGdCQUdQbEMsS0FBS2dCLGNBQWNtQixVQUFXLENBQ2hDLENBRUFDLGdCQUFBQSxHQUNFLE9BQVFwQyxLQUFLWSxlQUFleUIsT0FDekJsQixHQUFpQkEsRUFBYVUsU0FBU0MsT0FFNUMsQ0FFQVEsa0JBQUFBLEdBQ0V0QyxLQUFLVyxNQUFNNEIsaUJBQWlCLFVBQVdDLElBQ3JDQSxFQUFJQyxnQkFBZ0IsSUFHdEJ6QyxLQUFLWSxlQUFlcUIsU0FBU2QsSUFDM0JBLEVBQWFvQixpQkFBaUIsU0FBVUMsSUFDdEN4QyxLQUFLNEIsb0JBQW9CVCxHQUN6Qm5CLEtBQUtnQyxvQkFBb0IsR0FDekIsR0FFTixDQUVBVSxnQkFBQUEsR0FDRTFDLEtBQUtzQyxvQkFDUCxFQ3BGYSxNQUFNSyxFQUNuQjlDLFdBQUFBLENBQ0UrQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUVBaEQsS0FBS2lELE1BQVFMLEVBQUtNLEtBQ2xCbEQsS0FBS21ELE9BQVNQLEVBQUtRLEtBQ25CcEQsS0FBS3FCLEdBQUt1QixFQUFLUyxJQUNmckQsS0FBS3NELGNBQWdCVCxFQUNyQjdDLEtBQUt1RCxrQkFBb0JULEVBQ3pCOUMsS0FBS3dELG1CQUFxQlQsRUFDMUIvQyxLQUFLeUQsaUJBQW1CVCxFQUN4QmhELEtBQUswRCxhQUFlQyxTQUFTMUMsY0FBYzRCLEdBQzNDN0MsS0FBSzRELFFBQVVoQixFQUFLZ0IsT0FDdEIsQ0FFQXRCLGtCQUFBQSxHQUNFdEMsS0FBSzZELFdBQVd0QixpQkFBaUIsU0FBUyxLQUN4Q3ZDLEtBQUt1RCxrQkFBa0J2RCxLQUFLLElBRzlCQSxLQUFLOEQsWUFBWXZCLGlCQUFpQixTQUFTLEtBQ3pDdkMsS0FBS3lELGlCQUFpQnpELEtBQUssSUFJN0JBLEtBQUsrRCxjQUFjeEIsaUJBQWlCLFNBQVMsS0FDM0N2QyxLQUFLd0QsbUJBQW1CeEQsS0FBSyxHQUVqQyxDQUVBZ0UsWUFBQUEsR0FvQkUsT0FuQkFoRSxLQUFLaUUsU0FBV04sU0FDYjFDLGNBQWNqQixLQUFLc0QsZUFDbkJZLFFBQVFqRCxjQUFjLFNBQ3RCa0QsV0FBVSxHQUNibkUsS0FBSzhELFlBQWM5RCxLQUFLaUUsU0FBU2hELGNBQWMsdUJBQy9DakIsS0FBSzZELFdBQWE3RCxLQUFLaUUsU0FBU2hELGNBQWMsZ0JBQzlDakIsS0FBS29FLFdBQWFwRSxLQUFLaUUsU0FBU2hELGNBQWMsZ0JBQzlDakIsS0FBSytELGNBQWdCL0QsS0FBS2lFLFNBQVNoRCxjQUFjLHdCQUVqRGpCLEtBQUs2RCxXQUFXUSxJQUFNckUsS0FBS21ELE9BQzNCbkQsS0FBSzZELFdBQVdTLElBQU10RSxLQUFLaUQsTUFDM0JqRCxLQUFLb0UsV0FBVzVDLFlBQWN4QixLQUFLaUQsTUFFL0JqRCxLQUFLNEQsU0FDUDVELEtBQUs4RCxZQUFZeEMsVUFBVUMsSUFBSSw4QkFHakN2QixLQUFLc0MscUJBRUV0QyxLQUFLaUUsUUFDZCxDQUVBTSxpQkFBQUEsR0FFRXZFLEtBQUtpRSxTQUFTdEMsU0FDZDNCLEtBQUtpRSxTQUFXLElBQ2xCLENBRUFPLGdCQUFBQSxHQUNFeEUsS0FBSzhELFlBQVl4QyxVQUFVbUQsT0FBTyw4QkFDbEN6RSxLQUFLNEQsU0FBVzVELEtBQUs0RCxPQUN2QixFQ2xFYSxNQUFNYyxFQUNuQjdFLFdBQUFBLENBQVc4RSxHQUFvQixJQUFuQixjQUFFQyxHQUFlRCxFQUMzQjNFLEtBQUs2RSxjQUFnQmxCLFNBQVMxQyxjQUFjMkQsR0FDNUM1RSxLQUFLOEUsYUFBZTlFLEtBQUs2RSxjQUFjNUQsY0FBYyxpQkFDckRqQixLQUFLK0UsZ0JBQWtCL0UsS0FBSytFLGdCQUFnQkMsS0FBS2hGLEtBQ25ELENBRUFpRixJQUFBQSxHQUNFakYsS0FBSzZFLGNBQWN2RCxVQUFVQyxJQUFJLGdCQUNqQ29DLFNBQVNwQixpQkFBaUIsVUFBV3ZDLEtBQUsrRSxnQkFDNUMsQ0FFQUcsS0FBQUEsR0FDRWxGLEtBQUs2RSxjQUFjdkQsVUFBVUssT0FBTyxnQkFDcENnQyxTQUFTd0Isb0JBQW9CLFVBQVduRixLQUFLK0UsZ0JBQy9DLENBRUFBLGVBQUFBLENBQWdCdkMsR0FDRSxXQUFaQSxFQUFJNEMsS0FDTnBGLEtBQUtrRixPQUVULENBRUFHLG1CQUFzQjdDLElBQ2hCQSxFQUFJOEMsU0FBVzlDLEVBQUkrQyxlQUNyQnZGLEtBQUtrRixPQUVQLEVBR0ZNLGlCQUFBQSxHQUNFeEYsS0FBSzZFLGNBQWN0QyxpQkFBaUIsYUFBY0MsR0FDaER4QyxLQUFLcUYsbUJBQW1CN0MsS0FHMUJ4QyxLQUFLOEUsYUFBYXZDLGlCQUFpQixTQUFTLElBQU12QyxLQUFLa0YsU0FDekQsRUNsQ2EsTUFBTU8sVUFBc0JmLEVBQ3pDN0UsV0FBQUEsQ0FBWStFLEVBQWVjLEdBQ3pCQyxNQUFNLENBQUVmLGtCQUNSNUUsS0FBSzRGLFVBQVk1RixLQUFLNkUsY0FBYzVELGNBQWMsZ0JBQ2xEakIsS0FBSzZGLGtCQUFvQkgsRUFDekIxRixLQUFLWSxlQUFpQkMsTUFBTUMsS0FDMUJkLEtBQUs0RixVQUFVN0UsaUJBQWlCLGtCQUVsQ2YsS0FBSzhGLG1CQUFxQjlGLEtBQUs2RSxjQUFjNUQsY0FDM0MseUJBRUZqQixLQUFLK0Ysa0JBQW9CL0YsS0FBSzhGLG1CQUFtQnRFLFdBQ25ELENBRUF3RSxTQUFBQSxHQUNFaEcsS0FBSzRGLFVBQVVLLE9BQ2pCLENBRUFDLGVBQUFBLEdBQ0UsTUFBTUMsRUFBYyxDQUFDLEVBSXJCLE9BSEFuRyxLQUFLWSxlQUFlcUIsU0FBU21FLElBQzNCRCxFQUFZQyxFQUFNbEQsTUFBUWtELEVBQU1DLEtBQUssSUFFaENGLENBQ1QsQ0FFQUcsY0FBQUEsQ0FBZTFELEdBQ2I1QyxLQUFLWSxlQUFlcUIsU0FBU21FLElBRTNCQSxFQUFNQyxNQUFRekQsRUFBS3dELEVBQU1sRCxLQUFLLEdBRWxDLENBRUFzQyxpQkFBQUEsR0FDRUcsTUFBTUgsb0JBQ054RixLQUFLNEYsVUFBVXJELGlCQUFpQixVQUFVLElBQ3hDdkMsS0FBSzZGLGtCQUFrQjdGLEtBQUtrRyxvQkFFaEMsQ0FFQUssYUFBQUEsQ0FBY0MsR0FBc0MsSUFBM0JDLEVBQVdDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUcsWUFFbkMxRyxLQUFLOEYsbUJBQW1CdEUsWUFEdEJnRixFQUNvQ0MsRUFFQXpHLEtBQUsrRixpQkFFL0MsRUMvQ3dCcEMsU0FBUzFDLGNBQWMsZ0JBQTFDLE1BSU00RixFQUFvQmxELFNBQVMxQyxjQUN4Qyx5QkFFVzZGLEVBQW1CbkQsU0FBUzFDLGNBQWMsd0JBRzFDOEYsR0FGY3BELFNBQVMxQyxjQUFjLGtCQUN4QjBDLFNBQVMxQyxjQUFjLGlCQUNkMEMsU0FBUzFDLGNBQzFDLDRCQUlXK0YsRUFBWXJELFNBQVMxQyxjQUFjLGdCQUNuQ2dHLEVBQVd0RCxTQUFTMUMsY0FBYyxnQkNFekNpRyxFQUFNLElDbkJHLE1BQ2JySCxXQUFBQSxDQUFXOEUsR0FBdUIsSUFBdEIsUUFBRXdDLEVBQU8sUUFBRUMsR0FBU3pDLEVBQzlCM0UsS0FBS3FILFNBQVdGLEVBQ2hCbkgsS0FBS3NILFNBQVdGLENBQ2xCLENBRUFHLFFBQUFBLENBQVNDLEVBQUsxSCxHQUNaLE9BQU8ySCxNQUFNRCxFQUFLMUgsR0FBUzRILEtBQUsxSCxLQUFLMkgsY0FDdkMsQ0FFQUEsYUFBQUEsQ0FBY0MsR0FDWixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUdOQyxRQUFRQyxPQUFRLFVBQVNKLEVBQUlLLFNBQ3RDLENBRUFDLGVBQUFBLEdBQ0UsT0FBT2xJLEtBQUt1SCxTQUFVLEdBQUV2SCxLQUFLcUgsaUJBQWtCLENBQUVELFFBQVNwSCxLQUFLc0gsVUFDakUsQ0FFQWEsV0FBQUEsR0FDRSxPQUFPbkksS0FBS3VILFNBQVUsR0FBRXZILEtBQUtxSCxvQkFBcUIsQ0FDaERELFFBQVNwSCxLQUFLc0gsV0FDYkksTUFBTVUsR0FDQUEsR0FFWCxDQUVBQyxjQUFBQSxDQUFlbkYsRUFBTW9GLEdBQ25CLE9BQU90SSxLQUFLdUgsU0FBVSxHQUFFdkgsS0FBS3FILG9CQUFxQixDQUNoRGtCLE9BQVEsUUFDUm5CLFFBQVNwSCxLQUFLc0gsU0FDZGtCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJ4RixPQUNBb0YsV0FHTixDQUVBSyxVQUFBQSxDQUFXekYsRUFBTUUsR0FDZixPQUFPcEQsS0FBS3VILFNBQVUsR0FBRXZILEtBQUtxSCxpQkFBa0IsQ0FDN0NrQixPQUFRLE9BQ1JuQixRQUFTcEgsS0FBS3NILFNBQ2RrQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CeEYsT0FDQUUsVUFHTixDQUVBd0YsVUFBQUEsQ0FBV0MsR0FDVCxPQUFPN0ksS0FBS3VILFNBQVUsR0FBRXZILEtBQUtxSCxrQkFBa0J3QixJQUFVLENBQ3ZETixPQUFRLFNBQ1JuQixRQUFTcEgsS0FBS3NILFVBRWxCLENBRUF3QixRQUFBQSxDQUFTRCxHQUNQLE9BQU83SSxLQUFLdUgsU0FBVSxHQUFFdkgsS0FBS3FILGtCQUFrQndCLFVBQWdCLENBQzdETixPQUFRLE1BQ1JuQixRQUFTcEgsS0FBS3NILFdBQ2JJLE1BQUssSUFBTXFCLFFBQVFDLElBQUksd0JBQzVCLENBRUFDLFdBQUFBLENBQVlKLEdBQ1YsT0FBTzdJLEtBQUt1SCxTQUFVLEdBQUV2SCxLQUFLcUgsa0JBQWtCd0IsVUFBZ0IsQ0FDN0ROLE9BQVEsU0FDUm5CLFFBQVNwSCxLQUFLc0gsV0FDYkksTUFBSyxJQUFNcUIsUUFBUUMsSUFBSSwwQkFDNUIsQ0FFQUUsWUFBQUEsQ0FBYTlGLEdBQ1gsT0FBT3BELEtBQUt1SCxTQUFVLEdBQUV2SCxLQUFLcUgsMkJBQTRCLENBQ3ZEa0IsT0FBUSxRQUNSbkIsUUFBU3BILEtBQUtzSCxTQUNka0IsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQlMsT0FBUS9GLEtBR2QsR0Q5RGtCLENBQ2xCK0QsUUFBUyxrREFDVEMsUUFBUyxDQUNQZ0MsY0FBZSx1Q0FDZixlQUFnQixzQkFLcEJsQyxFQUNHZ0Isa0JBQ0FSLE1BQU0yQixJQUNMTixRQUFRQyxJQUFJLGlCQUFrQkssR0FDOUJBLEVBQU9wSCxTQUFTcUgsSUFDZEMsRUFBYUMsV0FBV0MsRUFBV0gsR0FBVSxHQUM3QyxJQUVISSxNQUFNWCxRQUFRWSxPQUdqQnpDLEVBQ0dpQixjQUNBVCxNQUFNMkIsSUFDTE4sUUFBUUMsSUFBSSxhQUFjSyxHQUMxQk8sRUFBU0MsWUFBWSxDQUNuQjdDLFVBQVdxQyxFQUFPbkcsS0FDbEIrRCxTQUFVb0MsRUFBT2YsUUFFbkJzQixFQUFTRSxjQUFjVCxFQUFPRixPQUFPLElBRXRDTyxNQUFNWCxRQUFRWSxPQUdqQixNQUFNSSxFQUFpQixDQUFDLEVBRUVqSyxRRGxDSCxDQUNyQk0sYUFBYyxlQUNkRixjQUFlLGdCQUNmSSxxQkFBc0Isd0JBQ3RCRSxnQkFBaUIsMEJBQ2pCRSxXQUFZLHdCQzhCS0csTUFBTUMsS0FBSzZDLFNBQVM1QyxpQkFBaUJqQixFQUFRTSxlQUNyRDZCLFNBQVNsQyxJQUNoQixNQUFNaUssRUFBWSxJQUFJcEssRUFBY0UsRUFBU0MsR0FDdkNrSyxFQUFXbEssRUFBWW1LLGFBQWEsUUFFMUNILEVBQWVFLEdBQVlELEVBQzNCQSxFQUFVdEgsa0JBQWtCLElBT2hDLE1BQU02RyxFQUFlLElFbEVOLE1BQ2IxSixXQUFBQSxDQUFXOEUsRUFBZXdGLEdBQW1CLElBQWpDLFNBQUVDLEdBQVV6RixFQUN0QjNFLEtBQUtxSyxVQUFZRCxFQUNqQnBLLEtBQUtzSyxXQUFhM0csU0FBUzFDLGNBQWNrSixFQUMzQyxDQUVBSSxXQUFBQSxHQUNFdkssS0FBS3dLLGVBQWV2SSxTQUFTd0ksSUFDM0J6SyxLQUFLcUssVUFBVUksRUFBSyxHQUV4QixDQUVBakIsVUFBQUEsQ0FBV2lCLEdBQ1R6SyxLQUFLc0ssV0FBV0ksT0FBT0QsRUFDekIsQ0FFQUUsV0FBQUEsQ0FBWUYsR0FDVnpLLEtBQUtzSyxXQUFXTSxRQUFRSCxFQUMxQixHRmlEQSxDQUNFTCxTQUFVWCxHQUVaLGdCQUlJb0IsRUFBcUIsSUcxRVosY0FBMkJuRyxFQUN4QzdFLFdBQUFBLENBQVc4RSxHQUFvQixJQUFuQixjQUFFQyxHQUFlRCxFQUMzQmdCLE1BQU0sQ0FBRWYsa0JBQ1I1RSxLQUFLOEssV0FBYTlLLEtBQUs2RSxjQUFjNUQsY0FBYyxlQUNyRCxDQUdBOEoscUJBQUFBLENBQXNCQyxHQUNwQmhMLEtBQUtpTCxvQkFBc0JELENBQzdCLENBRUF4RixpQkFBQUEsR0FDRXhGLEtBQUs4SyxXQUFXdkksaUJBQWlCLFVBQVdDLElBQzFDQSxFQUFJQyxpQkFDSnpDLEtBQUtpTCxxQkFBcUIsSUFFNUJ0RixNQUFNSCxtQkFDUixHSHlEMEMsQ0FDMUNaLGNBQWUsMEJBRWpCaUcsRUFBbUJyRixvQkFHbkIsTUFBTTBGLEVBQWUsSUFBSXpGLEVBQWMsZUEyRXZDLFNBQWlDVSxHQVcvQmdGLEdBVkEsV0FDRSxPQUFPakUsRUFDSm1CLGVBQWVsQyxFQUFZakQsS0FBTWlELEVBQVlpRixLQUM3QzFELE1BQU1VLElBQ0x3QixFQUFTQyxZQUFZLENBQ25CN0MsVUFBV2IsRUFBWWpELEtBQ3ZCK0QsU0FBVWQsRUFBWWlGLEtBQ3RCLEdBRVIsR0FDMEJGLEVBQzVCLElBdEZBQSxFQUFhMUYsb0JBR2IsTUFBTTZGLEVBQVksSUFBSTVGLEVBQWMsbUJBcUZwQyxTQUFpQ1UsR0FRL0JnRixHQVBBLFdBQ0UsT0FBT2pFLEVBQUl5QixXQUFXeEMsRUFBWW1GLE1BQU9uRixFQUFZcUIsS0FBS0UsTUFBTUUsSUFDOUQyQixFQUFhb0IsWUFBWWxCLEVBQVc3QixJQUNwQ3lELEVBQVVyRixZQUNWK0QsRUFBZSxpQkFBaUI3SCxlQUFlLEdBRW5ELEdBQzBCbUosRUFBVyxjQUN2QyxJQTdGQUEsRUFBVTdGLG9CQUdWLE1BQU0rRixFQUFjLElBQUk5RixFQUN0QixzQkEyRkYsU0FBb0NVLEdBT2xDZ0YsR0FOQSxXQUNFLE9BQU9qRSxFQUFJZ0MsYUFBYS9DLEVBQVlxQixLQUFLRSxNQUFNRSxJQUM3Q2dDLEVBQVNFLGNBQWNsQyxFQUFJdUIsUUFDM0JZLEVBQWUsb0JBQW9CN0gsZUFBZSxHQUV0RCxHQUMwQnFKLEVBQzVCLElBaEdBQSxFQUFZL0Ysb0JBR1osTUFBTWdHLEVBQW9CLElJL0ZYLGNBQTZCOUcsRUFDMUM3RSxXQUFBQSxDQUFZK0UsR0FDVmUsTUFBTSxDQUFFZixrQkFDUjVFLEtBQUt5TCxZQUFjekwsS0FBSzZFLGNBQWM1RCxjQUNwQyx5QkFFRmpCLEtBQUswTCxvQkFBc0IxTCxLQUFLNkUsY0FBYzVELGNBQzVDLDJCQUVKLENBQ0FnRSxJQUFBQSxDQUFLcUUsR0FFSHRKLEtBQUt5TCxZQUFZcEgsSUFBTWlGLEVBQVNsRyxLQUNoQ3BELEtBQUt5TCxZQUFZbkgsSUFBTyxZQUFXZ0YsRUFBU3BHLE9BQzVDbEQsS0FBSzBMLG9CQUFvQmxLLFlBQWM4SCxFQUFTcEcsS0FDaER5QyxNQUFNVixNQUNSLEdKK0UyQyx3QkFDN0N1RyxFQUFrQmhHLG9CQUdsQixNQUFNb0UsRUFBVyxJS3JHRixNQUNiL0osV0FBQUEsQ0FBVzhFLEdBQThELElBQTdELG9CQUFFZ0gsRUFBbUIsbUJBQUVDLEVBQWtCLGVBQUVDLEdBQWdCbEgsRUFDckUzRSxLQUFLOEwsYUFBZW5JLFNBQVMxQyxjQUFjMEssR0FDM0MzTCxLQUFLK0wsWUFBY3BJLFNBQVMxQyxjQUFjMkssR0FDMUM1TCxLQUFLZ00sUUFBVXJJLFNBQVMxQyxjQUFjNEssRUFDeEMsQ0FFQTFELFdBQUFBLEdBQ0UsTUFBTyxDQUNMakYsS0FBTWxELEtBQUs4TCxhQUFhdEssWUFDeEI0SixJQUFLcEwsS0FBSytMLFlBQVl2SyxZQUN0QjJILE9BQVFuSixLQUFLZ00sUUFBUTNILElBRXpCLENBRUF3RixXQUFBQSxDQUFXb0MsR0FBMEIsSUFBekIsVUFBRWpGLEVBQVMsU0FBRUMsR0FBVWdGLEVBQ2pDak0sS0FBSzhMLGFBQWF0SyxZQUFjd0YsRUFDaENoSCxLQUFLK0wsWUFBWXZLLFlBQWN5RixDQUNqQyxDQUVBNkMsYUFBQUEsQ0FBY29DLEdBQ1psTSxLQUFLZ00sUUFBUTNILElBQU02SCxDQUNyQixHTCtFNEIsQ0FDNUJQLG9CQUFxQixpQkFDckJDLG1CQUFvQixnQkFDcEJDLGVBQWdCLG9CQXVCbEIsU0FBU3BDLEVBQVdILEdBWWxCLE9BWGdCLElBQUkzRyxFQUNsQjJHLEVBQ0Esa0JBQ0EsS0FFRWtDLEVBQWtCdkcsS0FBS3FFLEVBQVMsR0FFbEM2QyxFQUNBbkosR0FHYWdCLGNBQ2pCLENBRUEsU0FBU21ILEVBQWFpQixFQUFTQyxHQUEwQyxJQUEzQjVGLEVBQVdDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUcsWUFFMUQyRixFQUFjOUYsZUFBYyxFQUFNRSxHQUNsQzJGLElBQ0cxRSxNQUFLLEtBQ0oyRSxFQUFjbkgsT0FBTyxJQUV0QndFLE9BQU80QyxJQUNOdkQsUUFBUVksTUFBTTJDLEVBQUksSUFFbkJDLFNBQVEsS0FDUEYsRUFBYzlGLGVBQWMsRUFBTSxHQUV4QyxDQXFDQSxTQUFTNEYsRUFBc0JLLEdBQzdCM0IsRUFBbUI1RixPQUNuQjRGLEVBQW1CRSx1QkFBc0IsS0FDdkM3RCxFQUNHMEIsV0FBVzRELEVBQUtuTCxJQUNoQnFHLE1BQUssS0FDSm1ELEVBQW1CM0YsUUFDbkJzSCxFQUFLakksbUJBQW1CLElBRXpCbUYsTUFBTVgsUUFBUVksTUFBTSxHQUUzQixDQUVBLFNBQVMzRyxFQUFnQndKLEdBQ25CQSxFQUFLNUksU0FDUHNELEVBQ0crQixZQUFZdUQsRUFBS25MLElBQ2pCcUcsTUFBSyxLQUNKOEUsRUFBS2hJLGtCQUFrQixJQUV4QmtGLE1BQU1YLFFBQVFZLE9BRWQ2QyxFQUFLNUksU0FDUnNELEVBQ0c0QixTQUFTMEQsRUFBS25MLElBQ2RxRyxNQUFLLEtBQ0o4RSxFQUFLaEksa0JBQWtCLElBRXhCa0YsTUFBTVgsUUFBUVksTUFFckIsQ0FsSEE5QyxFQUFrQnRFLGlCQUFpQixTQUFTLEtBQzFDLE1BQU1rSyxFQUFjN0MsRUFBU3pCLGNBQzdCbkIsRUFBVVgsTUFBUW9HLEVBQVl2SixLQUM5QitELEVBQVNaLE1BQVFvRyxFQUFZckIsSUFFN0JGLEVBQWFqRyxPQUNiOEUsRUFBZSxxQkFBcUJoSSxpQkFBaUIsSUFHdkQrRSxFQUFpQnZFLGlCQUFpQixTQUFTLEtBQ3pDOEksRUFBVXBHLE1BQU0sSUFHbEI4QixFQUFvQnhFLGlCQUFpQixTQUFTLEtBQzVDZ0osRUFBWXRHLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gb3B0aW9ucy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IG9wdGlvbnMuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBvcHRpb25zLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gb3B0aW9ucy5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpOyAvLyBjb250cm9sbGluZyB0aGUgc3VibWl0IGJ1dHRvbiA9PVxuXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbGVtZW50cy5ldmVyeShcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9pbWFnZSA9IGRhdGEubGluaztcbiAgICB0aGlzLmlkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkU2VsZWN0b3IpO1xuICAgIHRoaXMuaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICAvL2hhbmRsZXIgZm9yIHRoZSBkZWxldGUgYnV0dG9uIG9uIHRoZSBjYXJkXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTsgLy93aGF0IGlzIHRoaXMgaGVyZT9cbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2hlYXJ0LWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19oZWFydC1idXR0b25fY2xpY2tlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICByZW1vdmVDYXJkRWxlbWVudCgpIHtcbiAgICAvL3JlbW92ZXMgdGhlIGNhcmQgZnJvbSB0aGUgRE9NXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZUxpa2VCdXR0b24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9faGVhcnQtYnV0dG9uX2NsaWNrZWRcIik7XG4gICAgdGhpcy5pc0xpa2VkID0gIXRoaXMuaXNMaWtlZDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfY2xvc2VNb2RhbE92ZXJsYXkgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAvL3RoaXMgbmVlZHMgdG8gYmUgYW4gYXJyb3cgZnVuY3Rpb24gYmMgaXQgdXNlcyB0aGlzLi4uXG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+XG4gICAgICB0aGlzLl9jbG9zZU1vZGFsT3ZlcmxheShldnQpXG4gICAgKTtcblxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoRm9ybSBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcbiAgICB0aGlzLm1vZGFsRm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5tb2RhbEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcbiAgICApO1xuICAgIHRoaXMuX21vZGFsU3VibWl0QnV0dG9uID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fbW9kYWxTdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICByZXNldEZvcm0oKSB7XG4gICAgdGhpcy5tb2RhbEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIC8vaW5zZXJ0IHZhbHVlIGJ5IG5hbWUgb2YgdGhlIGlucHV0XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMubW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT5cbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX21vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21vZGFsU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cbn1cbiIsIi8vV3JhcHBlcnM6XG5leHBvcnQgY29uc3QgY2FyZExpc3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbi8vXG4vL0J1dHRvbnMgYW5kIE5vZGVzOlxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIlxuKTtcbmV4cG9ydCBjb25zdCBhZGROZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2pvYlwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiXG4pO1xuXG4vL0Zvcm0gRGF0YTpcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J25hbWUnXCIpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSdqb2InXVwiKTtcblxuLy9TZWxlY3RvcnMgYW5kIENsYXNzZXM6XG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IE1vZGFsV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgTW9kYWxDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm0uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQge1xuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUF2YXRhckJ1dHRvbixcbiAgYWRkTmV3Q2FyZEJ1dHRvbixcbiAgbmFtZUlucHV0LFxuICBqb2JJbnB1dCxcbiAgb3B0aW9ucyxcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEFQSSBJTlNUQU5USUFUSU9OOlxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODJkMmE4ZTItYjA1Zi00NmM4LWI2OWItNGUxY2I0ZmRkN2M3XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gSW5pdGlhbCBjYXJkcyB1cGxvYWRpbmcgdG8gRE9NXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkluaXRpYWwgQ2FyZHM6XCIsIHJlc3VsdCk7IC8vIERlYnVnZ2luZ1xuICAgIHJlc3VsdC5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xuICAgICAgY2FyZHNTZWN0aW9uLmFwcGVuZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbi8vIEluaXRpYWwgdXNlciBpbmZvIGZyb20gc2VydmVyIGFuZCB1cGxvYWRpbmcgdG8gRE9NXG5hcGlcbiAgLmdldFVzZXJJbmZvKClcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVXNlciBJbmZvOlwiLCByZXN1bHQpOyAvLyBEZWJ1Z2dpbmdcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lSW5wdXQ6IHJlc3VsdC5uYW1lLFxuICAgICAgam9iSW5wdXQ6IHJlc3VsdC5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlc3VsdC5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbi8vIFZBTElEQVRJT04gSU5TVEFOVElBVElPTjpcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAob3B0aW9ucykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG5cbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKG9wdGlvbnMpO1xuXG4vLyBTRUNUSU9OIENMQVNTIElOU1RBTlRJQVRJT046XG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkLFxuICB9LFxuICBcIi5jYXJkc19fbGlzdFwiXG4pO1xuXG4vLyBERUxFVEUgTU9EQUwgSU5TVEFOVElBVElPTjpcbmNvbnN0IGRlbGV0ZUNvbmZpcm1Nb2RhbCA9IG5ldyBNb2RhbENvbmZpcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNkZWxldGUtY29uZmlybS1tb2RhbFwiLFxufSk7XG5kZWxldGVDb25maXJtTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gUFJPRklMRSBNT0RBTCBJTlNUQU5USUFUSU9OOlxuY29uc3QgcHJvZmlsZU1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oXCIjZWRpdC1tb2RhbFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XG5wcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gTkVXIENBUkQgTU9EQUwgSU5TVEFOVElBVElPTjpcbmNvbnN0IGNhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKFwiI2FkZC1jYXJkLW1vZGFsXCIsIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KTtcbmNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBBVkFUQVIgRURJVCBNT0RBTCBJTlNUQU5USUFUSU9OOlxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybShcbiAgXCIjZWRpdC1hdmF0YXItbW9kYWxcIixcbiAgaGFuZGxlRWRpdEF2YXRhckZvcm1TdWJtaXRcbik7XG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBNT0RBTCBXSVRIIElNQUdFIElOU1RBTlRJQVRJT046XG5jb25zdCBpbWFnZVByZXZpZXdNb2RhbCA9IG5ldyBNb2RhbFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xuaW1hZ2VQcmV2aWV3TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gVVNFUiBJTkZPIElOU1RBTlRJQVRJT046XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVFbGVtZW50U2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgam9iRWxlbWVudFNlbGVjdG9yOiBcIi5wcm9maWxlX19qb2JcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuLy8gRVZFTlQgTElTVEVORVJTIEZPUiBNT0RBTCBCVVRUT05TOlxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlci5uYW1lO1xuICBqb2JJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VyLmpvYjtcblxuICBwcm9maWxlTW9kYWwub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1tcImVkaXQtcHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2FyZE1vZGFsLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcbn0pO1xuXG4vLyBGVU5DVElPTlM6XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLCAvLyBkYXRhXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLCAvLyBjYXJkU2VsZWN0b3JcbiAgICAoKSA9PiB7XG4gICAgICAvLyBoYW5kbGVJbWFnZUNsaWNrXG4gICAgICBpbWFnZVByZXZpZXdNb2RhbC5vcGVuKGNhcmREYXRhKTtcbiAgICB9LFxuICAgIGhhbmRsZU9wZW5EZWxldGVNb2RhbCxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcblxuICByZXR1cm4gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3VibWl0KHJlcXVlc3QsIG1vZGFsSW5zdGFuY2UsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAvLyBjaGFuZ2UgYnV0dG9uIHRleHQ6XG4gIG1vZGFsSW5zdGFuY2UucmVuZGVyTG9hZGluZyh0cnVlLCBsb2FkaW5nVGV4dCk7XG4gIHJlcXVlc3QoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBtb2RhbEluc3RhbmNlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBmdW5jdGlvbiBtYWtlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gYXBpXG4gICAgICAudXBkYXRlVXNlckluZm8oaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuam9iKVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgICAgICBuYW1lSW5wdXQ6IGlucHV0VmFsdWVzLm5hbWUsXG4gICAgICAgICAgam9iSW5wdXQ6IGlucHV0VmFsdWVzLmpvYixcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIHByb2ZpbGVNb2RhbCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcy50aXRsZSwgaW5wdXRWYWx1ZXMudXJsKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGNhcmRzU2VjdGlvbi5wcmVwZW5kSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgICAgY2FyZE1vZGFsLnJlc2V0Rm9ybSgpOyAvLyByZXNldCB0aGUgZm9ybVxuICAgICAgZm9ybVZhbGlkYXRvcnNbXCJhZGQtY2FyZC1mb3JtXCJdLmRpc2FibGVCdXR0b24oKTsgLy8gZGlzYWJsZSB0aGUgYnV0dG9uXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBjYXJkTW9kYWwsIFwiQ3JlYXRpbmcuLi5cIik7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRBdmF0YXJGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkudXBkYXRlQXZhdGFyKGlucHV0VmFsdWVzLnVybCkudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xuICAgICAgZm9ybVZhbGlkYXRvcnNbXCJlZGl0LWF2YXRhci1mb3JtXCJdLmRpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGF2YXRhck1vZGFsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3BlbkRlbGV0ZU1vZGFsKGNhcmQpIHtcbiAgZGVsZXRlQ29uZmlybU1vZGFsLm9wZW4oKTtcbiAgZGVsZXRlQ29uZmlybU1vZGFsLnNldEhhbmRsZURlbGV0ZU1ldGhvZCgoKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWxldGVDb25maXJtTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkRWxlbWVudCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XG4gIGlmIChjYXJkLmlzTGlrZWQpIHtcbiAgICBhcGlcbiAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmhhbmRsZUxpa2VCdXR0b24oKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cbiAgaWYgKCFjYXJkLmlzTGlrZWQpIHtcbiAgICBhcGlcbiAgICAgIC5saWtlQ2FyZChjYXJkLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmhhbmRsZUxpa2VCdXR0b24oKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHRoaXMuX2NoZWNrUHJvbWlzZSk7XG4gIH1cblxuICBfY2hlY2tQcm9taXNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlVXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIkNhcmQgaGFzIGJlZW4gbGlrZWRcIikpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiQ2FyZCBpcyBub3QgeWV0IGxpa2VkXCIpKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihsaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxufVxuIiwiLy9hZGRzIGVsZW1lbnRzIHRvIHRoZSBET01cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFwcGVuZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gIH1cblxuICBwcmVwZW5kSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbENvbmZpcm0gZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XG4gICAgc3VwZXIoeyBtb2RhbFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgLy90aGlzIGZuIG1ha2VzIHRoaXMgYSBsZXNzIGdlbmVyYWxpemVkIGNsYXNzXG4gIHNldEhhbmRsZURlbGV0ZU1ldGhvZChoYW5kbGVEZWxldGVTdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZVN1Ym1pdCgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9tb2RhbEltYWdlID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9faW1hZ2UtcHJldmlld1wiXG4gICAgKTtcbiAgICB0aGlzLl9tb2RhbEltYWdlU3VidGl0bGUgPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19waWN0dXJlLXN1YnRpdGxlXCJcbiAgICApO1xuICB9XG4gIG9wZW4oY2FyZERhdGEpIHtcbiAgICAvL2FjY2VwdCB0aGUgbmFtZSBhbmQgbGluayBvZiB0aGUgY2FyZCBhcyBhcmd1bWVudHMgYW5kIGFkZCBhbiBpbWFnZSB0byB0aGUgcG9wdXAgYW5kIGltYWdlIHNyYyBhdHRyaWJ1dGUgYW5kIGEgY2FwdGlvbiBmb3IgdGhlIGltYWdlLiBjYWxsIHRoaXMgbWV0aG9kIGluIHRoZSBpbWFnZSBjbGljayBoYW5kbGVyIGluIGluZGV4LmpzXG4gICAgdGhpcy5fbW9kYWxJbWFnZS5zcmMgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX21vZGFsSW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7Y2FyZERhdGEubmFtZX1gO1xuICAgIHRoaXMuX21vZGFsSW1hZ2VTdWJ0aXRsZS50ZXh0Q29udGVudCA9IGNhcmREYXRhLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZUVsZW1lbnRTZWxlY3Rvciwgam9iRWxlbWVudFNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVFbGVtZW50U2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYkVsZW1lbnRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZUlucHV0LCBqb2JJbnB1dCB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lSW5wdXQ7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYklucHV0O1xuICB9XG5cbiAgc2V0VXNlckF2YXRhcihsaW5rSW5wdXQpIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gbGlua0lucHV0O1xuICB9XG59XG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9pbnB1dEVsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwicmVzZXRWYWxpZGF0aW9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVyeSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImVuYWJsZVZhbGlkYXRpb24iLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwibmFtZSIsIl9pbWFnZSIsImxpbmsiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2NhcmRFbGVtZW50IiwiZG9jdW1lbnQiLCJpc0xpa2VkIiwiX2NhcmRJbWFnZSIsIl9saWtlQnV0dG9uIiwiX2RlbGV0ZUJ1dHRvbiIsImdlbmVyYXRlQ2FyZCIsIl9lbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJyZW1vdmVDYXJkRWxlbWVudCIsImhhbmRsZUxpa2VCdXR0b24iLCJ0b2dnbGUiLCJNb2RhbCIsIl9yZWYiLCJtb2RhbFNlbGVjdG9yIiwiX21vZGFsRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiX2Nsb3NlTW9kYWxPdmVybGF5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwiTW9kYWxXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIm1vZGFsRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX21vZGFsU3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJyZXNldEZvcm0iLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGROZXdDYXJkQnV0dG9uIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiYXBpIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJfYmFzZVVSTCIsIl9oZWFkZXJzIiwiX3JlcXVlc3QiLCJ1cmwiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tQcm9taXNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwidXNlckRhdGEiLCJ1cGRhdGVVc2VySW5mbyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGROZXdDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiY29uc29sZSIsImxvZyIsImRpc2xpa2VDYXJkIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInJlc3VsdCIsImNhcmREYXRhIiwiY2FyZHNTZWN0aW9uIiwiYXBwZW5kSXRlbSIsImNyZWF0ZUNhcmQiLCJjYXRjaCIsImVycm9yIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJmb3JtVmFsaWRhdG9ycyIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIl9yZW5kZXJlZEl0ZW1zIiwiaXRlbSIsImFwcGVuZCIsInByZXBlbmRJdGVtIiwicHJlcGVuZCIsImRlbGV0ZUNvbmZpcm1Nb2RhbCIsIl9tb2RhbEZvcm0iLCJzZXRIYW5kbGVEZWxldGVNZXRob2QiLCJoYW5kbGVEZWxldGVTdWJtaXQiLCJfaGFuZGxlRGVsZXRlU3VibWl0IiwicHJvZmlsZU1vZGFsIiwiaGFuZGxlU3VibWl0Iiwiam9iIiwiY2FyZE1vZGFsIiwidGl0bGUiLCJhdmF0YXJNb2RhbCIsImltYWdlUHJldmlld01vZGFsIiwiX21vZGFsSW1hZ2UiLCJfbW9kYWxJbWFnZVN1YnRpdGxlIiwibmFtZUVsZW1lbnRTZWxlY3RvciIsImpvYkVsZW1lbnRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyIiwiX3JlZjIiLCJsaW5rSW5wdXQiLCJoYW5kbGVPcGVuRGVsZXRlTW9kYWwiLCJyZXF1ZXN0IiwibW9kYWxJbnN0YW5jZSIsImVyciIsImZpbmFsbHkiLCJjYXJkIiwiY3VycmVudFVzZXIiXSwic291cmNlUm9vdCI6IiJ9